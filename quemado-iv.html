<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Paciente Quemado ‚Äì Sueros IV</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  font-family: Arial, sans-serif;
  background:#f2f2f2;
  margin:0;
  padding:20px;
  text-align:center;
}

.container {
  max-width:420px;
  margin:0 auto;
  background:#ffffff;
  padding:20px;
  border-radius:12px;
  box-shadow:0 4px 8px rgba(0,0,0,0.1);
  text-align:left;
}

h1 {
  font-size:22px;
  margin-bottom:8px;
  text-align:center;
}

p {
  text-align:center;
  color:#555;
  font-size:14px;
  margin-bottom:16px;
}

.menu-btn {
  width:100%;
  padding:16px;
  margin:12px 0;
  font-size:17px;
  border-radius:14px;
  border:none;
  background:#ffffff;
  box-shadow:0 3px 6px rgba(0,0,0,0.15);
  cursor:pointer;
}

.menu-btn:active {
  transform:translateY(2px);
}

.warn-btn {
  background:#fff3cd;
  color:#856404;
  font-weight:bold;
}

.back-btn {
  width:100%;
  margin-top:20px;
  padding:12px;
  font-size:16px;
  border-radius:10px;
  border:none;
  cursor:pointer;
  background:#1976d2;
  color:white;
}

/* Popup */
.popup {
  display:none;
  position:fixed;
  top:0; left:0;
  width:100%; height:100%;
  background:rgba(0,0,0,0.5);
  align-items:center;
  justify-content:center;
}

.popup-content {
  background:white;
  max-width:420px;
  width:90%;
  padding:20px;
  border-radius:12px;
  text-align:left;
}

.close-btn {
  margin-top:15px;
  width:100%;
  padding:10px;
  border:none;
  border-radius:8px;
  background:#1976d2;
  color:white;
  cursor:pointer;
}

/* (peque√±o) estilo para el resultado del %SCQ */
.scq-result {
  text-align:center;
  font-size:16px;
  color:#111;
  margin-top:12px;
  padding:10px;
  background:#f5f5f5;
  border-radius:10px;
}
.scq-hint {
  text-align:center;
  color:#555;
  font-size:13px;
  margin-top:8px;
}
</style>
</head>

<body>
<div class="container">
  <h1>üî• Paciente Quemado</h1>
  <p>Evaluaci√≥n inicial y manejo con l√≠quidos IV</p>

  <button class="menu-btn warn-btn" onclick="openPopup('advertencias')">‚ö†Ô∏è ADVERTENCIAS IMPORTANTES</button>

  <button class="menu-btn" onclick="openPopup('scq')">üßÆ Superficie corporal quemada</button>

  <!-- ‚úÖ FIX: ya no abre popup; navega a parkland.html manteniendo el estilo -->
  <button class="menu-btn" id="parklandBtn" onclick="goToParkland()">üíß Calculadora de l√≠quidos (Parkland)</button>

  <button class="menu-btn" onclick="location.href='manejo-quemaduras.html'">ü©π Manejo de quemaduras</button>

  <button class="back-btn" onclick="history.back()">‚¨Ö Volver</button>
</div>

<!-- Advertencias -->
<div class="popup" id="advertencias">
  <div class="popup-content">
    <h3>‚ö†Ô∏è Advertencias</h3>
    <ul>
      <li>No retirar ropa adherida a la piel</li>
      <li>No aplicar pomadas, aceites ni remedios caseros</li>
      <li>Enfriar con agua limpia solo los primeros minutos</li>
      <li>Buscar acceso venoso temprano</li>
      <li>Si no hay vena disponible, trasladar de inmediato</li>
    </ul>
    <button class="close-btn" onclick="closePopup('advertencias')">Cerrar</button>
  </div>
</div>

<!-- Superficie corporal quemada -->
<div class="popup" id="scq">
  <div class="popup-content">
    <h3>üßÆ Superficie corporal quemada</h3>
    <p>Selecciona las zonas afectadas (Regla del 9)</p>

    <!-- ‚úÖ FIX: a√±adimos data-pct para poder sumar -->
    <label><input type="checkbox" class="scq-zone" data-pct="9"> Cabeza (9%)</label><br>
    <label><input type="checkbox" class="scq-zone" data-pct="9"> Brazo derecho (9%)</label><br>
    <label><input type="checkbox" class="scq-zone" data-pct="9"> Brazo izquierdo (9%)</label><br>
    <label><input type="checkbox" class="scq-zone" data-pct="18"> Tronco anterior (18%)</label><br>
    <label><input type="checkbox" class="scq-zone" data-pct="18"> Tronco posterior (18%)</label><br>
    <label><input type="checkbox" class="scq-zone" data-pct="9"> Pierna derecha anterior (9%)</label><br>
    <label><input type="checkbox" class="scq-zone" data-pct="9"> Pierna derecha posterior (9%)</label><br>
    <label><input type="checkbox" class="scq-zone" data-pct="9"> Pierna izquierda anterior (9%)</label><br>
    <label><input type="checkbox" class="scq-zone" data-pct="9"> Pierna izquierda posterior (9%)</label><br>

    <p><strong>Grado de profundidad:</strong></p>
    <select style="width:100%; padding:8px;">
      <option>Primer grado</option>
      <option>Segundo grado</option>
      <option>Tercer grado</option>
    </select>

    <!-- ‚úÖ Resultado real -->
    <div class="scq-result">
      %SCQ total: <strong><span id="scqTotal">0</span>%</strong>
    </div>
    <div class="scq-hint">Este % se usar√° para Parkland.</div>

    <button class="close-btn" onclick="closePopup('scq')">Cerrar</button>
  </div>
</div>

<!-- Parkland (popup ya no se usa; lo dejo comentado por si quieres conservarlo como info)
<div class="popup" id="parkland">
  <div class="popup-content">
    <h3>üíß F√≥rmula de Parkland</h3>
    <p>Usar solo si la superficie quemada lo amerita</p>
    <ul>
      <li>Soluci√≥n: Hartmann</li>
      <li>4 ml √ó kg √ó % SCQ</li>
      <li>50% en primeras 8 h</li>
      <li>50% restantes en 16 h</li>
    </ul>
    <p><em>La calculadora detallada se habilitar√° tras el c√°lculo de SCQ</em></p>
    <button class="close-btn" onclick="closePopup('parkland')">Cerrar</button>
  </div>
</div>
-->

<script>
function openPopup(id) {
  document.getElementById(id).style.display = 'flex';
}

function closePopup(id) {
  document.getElementById(id).style.display = 'none';
}

/* ‚úÖ FIX: c√°lculo del %SCQ en tiempo real */
let currentSCQ = 0;

function calculateSCQ() {
  let sum = 0;
  document.querySelectorAll('.scq-zone:checked').forEach(cb => {
    sum += parseFloat(cb.dataset.pct) || 0;
  });

  // l√≠mites de seguridad
  if (sum < 0) sum = 0;
  if (sum > 100) sum = 100;

  currentSCQ = sum;
  const out = document.getElementById('scqTotal');
  if (out) out.textContent = String(sum);

  // guardamos para usarlo en parkland.html si lo quieres
  try { localStorage.setItem('scq_total', String(sum)); } catch(e) {}
}

// activar listeners
document.addEventListener('change', (e) => {
  if (e.target && e.target.classList.contains('scq-zone')) {
    calculateSCQ();
  }
});

/* ‚úÖ FIX: bot√≥n Parkland navega a parkland.html, pasando %SCQ */
function goToParkland() {
  // intenta leer lo √∫ltimo calculado o lo guardado
  let scq = currentSCQ;
  if (!scq) {
    try {
      const saved = parseFloat(localStorage.getItem('scq_total'));
      if (!isNaN(saved)) scq = saved;
    } catch(e) {}
  }

  // pasa el %SCQ por query (si parkland.html lo quiere leer despu√©s)
  location.href = 'parkland.html?scq=' + encodeURIComponent(scq || 0);
}

// inicializa display si hay guardado
(function initSCQ() {
  try {
    const saved = parseFloat(localStorage.getItem('scq_total'));
    if (!isNaN(saved)) {
      currentSCQ = saved;
      const out = document.getElementById('scqTotal');
      if (out) out.textContent = String(saved);
    }
  } catch(e) {}
})();
</script>
</body>
</html>
